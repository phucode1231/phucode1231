export const config = {
  name: "cauca",
  description: `Point và coin không tính cho rank và XC`,
  aliases: ["fish", "cauca", "cc"],
  cooldown: 5,
  versions: "4.2.8",
  credits: "Phatt"
}

const info = [
  { name: "Cá chà bặc🐧", rate: 0.25, coin: 10000 },
  { name: "Megalondon🤯", rate: 0.25, coin: 100000 },
  { name: "Cá rỉa hết mồi", rate: 0.25, coin: 0 },
  { name: "Cá Hồi", rate: 2.5, coin: 200 },
  { name: "Cá Trê Nhỏ", rate: 5, coin: 20 },
  { name: "Cá sấu", rate: 0.25, coin: 1000 },
  { name: "Cá cảnh", rate: 2.5, coin: 5 },
  { name: "Cá nóc", rate: 2.75, coin: 100 },
  { name: "Cá Chim", rate: 3, coin: 120 },
  { name: "Cá Trích", rate: 1.25, coin: 120 },
  { name: "Cá vàng special", rate: 0.5, coin: 900 },
  { name: "𝐂𝚛𝚞𝚜𝚑", rate: 1.5, coin: 9999999 },
  { name: "Người yêu", rate: 1.5, coin: 100 },
  { name: "Cá đuối", rate: 2, coin: 150 },
  { name: "Cá Linh", rate: 2, coin: 120 },
  { name: "Hộp đồ ăn nhanh", rate: 1.5, coin: 0.5 },
  { name: "Rác thải", rate: 1, coin: 0.5 },
  { name: "Ba ba", rate: 2, coin: 170 },
  { name: "Cá heo hồng", rate: 0.5, coin: 300 },
  { name: "Rùa biển", rate: 1, coin: 280 },
  { name: "Táo thối", rate: 0.5, coin: 0 },
  { name: "Cá bạc má", rate: 2, coin: 100 },
  { name: "Cá sa ba", rate: 3, coin: 190 },
  { name: "Cá mặt Trăng", rate: 2, coin: 0 },
  { name: "Sứa biển", rate: 2, coin: 50 },
  { name: "Cá chiên dòn", rate: 2, coin: 20 },
  { name: "Sao biển", rate: 0.75, coin: 50 },
  { name: "Cá Lã Vọng", rate: 1.25, coin: 199 },
  { name: "Cá Mập con", rate: 1, coin: 400 },
  { name: "Cá thu", rate: 2.75, coin: 170 },
  { name: "Cá thác lác", rate: 3, coin: 150 },
  { name: "Cá ngừ", rate: 2.25, coin: 130 },
{ name: "Mực ống", rate: 2.5, coin: 250 },
{ name: "Bạch tuộc", rate: 1.5, coin: 80 },
{ name: "Cua", rate: 2, coin: 220 },
{ name: "Tôm hùm", rate: 0.5, coin: 1000 },
{ name: "Cá hồi Alaska", rate: 3, coin: 350 },
{ name: "Cá mập trắng", rate: 1.5, coin: 600 },
{ name: "Cá hồi xanh", rate: 2.25, coin: 300 },
{ name: "Cá chình vịt", rate: 2, coin: 80 },
{ name: "Hải quỳ", rate: 1.75, coin: 120 },
{ name: "Cá bống kho trứng", rate: 1.5, coin: 35 },
{ name: "Cá mực", rate: 2, coin: 60 },
{ name: "Mực ống xào me", rate: 2.5, coin: 350 },
{ name: "Cá hổ", rate: 2, coin: 280 },
{ name: "Sò điệp", rate: 1.5, coin: 70 },
{ name: "Ốc mặt trăng", rate: 1.25, coin: 50 },
{ name: "Cá lóc", rate: 1.5, coin: 110 },
{ name: "Cá diêu hồng", rate: 2, coin: 90 },
{ name: "Tôm sú", rate: 2, coin: 150 },
{ name: "Sò huyết", rate: 2, coin: 90 },
{ name: "Tôm tít", rate: 1.75, coin: 80 },
{ name: "Cá đồng", rate: 2, coin: 60 },
{ name: "Cá mú", rate: 2.5, coin: 220 },
{ name: "Cá thìa la, rô phi", rate: 1.5, coin: 80 },
{ name: "Cá chép", rate: 2, coin: 40 },
{ name: "Sò điệp nướng", rate: 2.25, coin: 120 },
{ name: "Cá cơm", rate: 1.75, coin: 70 },
{ name: "Cá quả", rate: 2.5, coin: 200 }
];

const location = [
  "ở trên cây",
  "ở dưới đất",
  "ở bờ suối",
  "ở trong hang động",
  "ở rừng rậm",
  "ở sông",
  "ở đồng ruộng",
  "ở núi",
  "ở trong vườn hoa",
  "ở đáy xã hội",
  "ở hồ bơi",
  "ở trên nóc nhà",
  "ở ao nhà 𝐂𝚛𝚞𝚜𝚑",
  "ở hồ cá ắ",
  "ở Tây Nguyên sound"

];

const partner = [
  "với 𝐂𝚛𝚞𝚜𝚑",
  "với người yêu",
  "cùng Ronaldo",
  "cùng với Messi",
  "cùng với Halland",
  "cùng anh Bảnh",
  "cùng gia đình",
  "cùng cô hàng xóm",
  "cùng cô giáo Thảo",
  "cùng anh sửa ống nước",
  "cô chủ nhà",
  "cùng vong ma",
  "cùng nyc"

];

const checkin = [
  "sáng sớm",
  "sáng nắng đẹp",
  "sáng mưa rào",
  "sáng mưa to",
  "sáng trời bão",
  "sáng trời giông",
  "trưa nắng nhẹ",
  "trưa nắng đẹp",
  "trưa nắng gắt",
  "trưa mưa rào",
  "chiều nắng chill",
  "chiều nắng ấm",
  "chiều mưa rào",
  "chiều mưa to",
  "hoàng hôn",
  "bình minh",
  "sẫm tối",
  "đêm"
];

export async function onCall({ message, data }) {
  let totalRate = 0;
  for (const fish of info) {
      totalRate += fish.rate;
  }

  let number_of_fishes = Math.floor(Math.random() * 3) + 2;
  let fishes = [];

  for (let i = 0; i < number_of_fishes; i++) {
      let randomNumber = Math.random() * totalRate;
      let selectedFish = null;

      for (const fish of info) {
          if (randomNumber < fish.rate) {
              selectedFish = fish;
              break;
          }
          randomNumber -= fish.rate;
      }

      fishes.push(selectedFish);
  }

  let fish_names = "";
  let coinsEarned = 0;
  for (const fish of fishes) {
      fish_names += fish.name + " | ";
      coinsEarned += fish.coin;
  }

  try {
      let data = await data.getData(message.senderID);
      if (!data) {
          return message.reply("Dữ liệu người dùng không tồn tại!");
      }

      data.money += coinsEarned;
      await data.updateData(message.senderID, data);
  } catch (e) {
      message.reply("Đã xảy ra lỗi!");
      console.error(e);
      return;
  }

  const msg = `
      ━━━━━━━━━━━━━━━━
      Câu ${location[Math.floor(Math.random() * location.length)]}
      Câu lúc ${checkin[Math.floor(Math.random() * checkin.length)]}
      Câu ${partner[Math.floor(Math.random() * partner.length)]}
      ━━━━━━━━━━━━━━━━
      𝐂𝐚́ 𝐛𝐚̣𝐧 𝐜𝐚̂𝐮 đ𝐮̛𝐨̛̣𝐜
      ${fish_names.slice(0, -1)}
      ━━━━━━━━━━━━━━━━
      Số 𝐂𝐨𝐢𝐧 nhận: ${coinsEarned}
  `;

  return message.reply(msg);
}